{namespace f=TYPO3\\CMS\\Fluid\\ViewHelpers}
<header class="relative z-50">
    <f:if condition="{TopBanner}">
        <div class="bg-primary-90 text-primary-foreground text-sm tracking-wide">
            <div class="container mx-auto px-6 py-2 flex flex-wrap items-center justify-center gap-4 text-center uppercase">
                <f:format.raw>{TopBanner}</f:format.raw>
            </div>
        </div>
    <f:else>
        <div class="bg-primary-90 text-primary-foreground text-sm tracking-wide">
            <div class="container mx-auto px-6 py-2 flex flex-wrap items-center justify-center gap-4 text-center uppercase">
                <span>Visit us at IBC 2025</span>
                <span class="hidden sm:inline">|</span>
                <a href="#" class="underline underline-offset-4">Learn more</a>
            </div>
        </div>
    </f:else>
    </f:if>
    <div class="bg-ie-navy-95 backdrop-blur border-b border-white-5">
        <div class="container mx-auto px-6 py-4 flex items-center justify-between">
            <a href="/" class="flex items-center gap-3">
                <img src="{f:uri.resource(path: 'Images/logo-ie-white.png')}" alt="Image Engineering" class="h-10 w-auto" />
                <span class="sr-only">Image Engineering</span>
            </a>
            <button class="lg:hidden text-white text-sm tracking-wide uppercase" data-toggle="mobile-nav">
                Menu
            </button>
            <nav class="hidden lg:flex items-center gap-10 text-sm font-medium uppercase tracking-[0.2em] text-white">
                <f:for each="{mainNavigation}" as="item">
                    <a href="{item.link}" class="group relative flex items-center gap-2 hover:text-primary transition-colors duration-200"{f:if(condition:item.target, then: ' target="{item.target}" rel="noreferrer"')}>
                        <span>{item.title}</span>
                        <f:if condition="{item.children}">
                            <span class="text-xs opacity-70">â–¾</span>
                        </f:if>
                        <f:if condition="{item.active}">
                            <span class="absolute left-0 -bottom-3 h-0.5 w-full bg-primary"></span>
                        </f:if>
                    </a>
                </f:for>
            </nav>
        </div>
        <div class="mobile-nav hidden border-t border-white-10 bg-ie-navy" data-mobile-nav>
            <div class="container mx-auto px-6 py-6 space-y-4 text-sm uppercase tracking-[0.18em] text-white-90">
                <f:for each="{mainNavigation}" as="item">
                    <div>
                        <a href="{item.link}" class="block py-2"{f:if(condition:item.target, then: ' target="{item.target}" rel="noreferrer"')}>
                            {item.title}
                        </a>
                        <f:if condition="{item.children}">
                            <ul class="pl-4 text-xs text-white-60 space-y-1">
                                <f:for each="{item.children}" as="child">
                                    <li>
                                        <a href="{child.link}" class="block py-1"{f:if(condition:child.target, then: ' target="{child.target}" rel="noreferrer"')}>
                                            {child.title}
                                        </a>
                                    </li>
                                </f:for>
                            </ul>
                        </f:if>
                    </div>
                </f:for>
            </div>
        </div>
    </div>
</header>
